# Solana Whale Tracker - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# Database Configuration
# ============================================
DATABASE_URL=postgresql://postgres:password@postgres:5432/whale_tracker
DATABASE_MAX_CONNECTIONS=20
POSTGRES_PASSWORD=password

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://redis:6379

# ============================================
# Multi-Chain RPC Configuration
# ============================================
# Solana
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_FALLBACK_RPC_URL=https://api.devnet.solana.com

# Ethereum
ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_KEY_HERE

# Binance Smart Chain
BSC_RPC_URL=https://bsc-dataseed.binance.org

# Polygon
POLYGON_RPC_URL=https://polygon-rpc.com

# ============================================
# Server Configuration
# ============================================
SERVER_HOST=0.0.0.0
SERVER_PORT=3000

# ============================================
# External API Keys
# ============================================
# Birdeye API (multi-chain price data)
# Get your API key from: https://birdeye.so/
BIRDEYE_API_KEY=your_birdeye_api_key_here

# SideShift API (conversions and staking)
# Get your API key from: https://sideshift.ai/
SIDESHIFT_API_KEY=your_sideshift_api_key_here

# Intercom API (voice commands) - Optional
# Get your API key from: https://www.intercom.com/
INTERCOM_API_KEY=your_intercom_api_key_here

# KYC Provider API (identity verification) - Optional
# Example: Onfido, Jumio, etc.
KYC_PROVIDER_API_KEY=your_kyc_provider_api_key_here

# ============================================
# AI Configuration
# ============================================
# Claude API
# Get your API key from: https://console.anthropic.com/
CLAUDE_API_KEY=your_claude_api_key_here

# Local AI Model (optional, for privacy and cost savings)
USE_LOCAL_MODEL=false
# LOCAL_MODEL_PATH=/path/to/mistral-7b-instruct.gguf
# LOCAL_MODEL_TYPE=mistral-7b
# LOCAL_MODEL_GPU=false
# LOCAL_MODEL_THREADS=4

# ============================================
# Stripe Configuration
# ============================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# JWT Configuration
# ============================================
# Generate a random secret: openssl rand -base64 32
JWT_SECRET=change_this_to_a_random_secret_in_production
JWT_EXPIRATION_HOURS=24

# ============================================
# Feature Flags
# ============================================
ENABLE_VOICE_TRADING=true
ENABLE_P2P_EXCHANGE=true
ENABLE_AGENTIC_TRIMMING=true
ENABLE_BLOCKCHAIN_RECEIPTS=true
ENABLE_CHAT_VERIFICATION=true
ENABLE_AUTO_STAKING=true

# ============================================
# Service Configuration
# ============================================
# Birdeye Service
BIRDEYE_CACHE_TTL_SECS=60
BIRDEYE_MAX_RETRIES=3

# SideShift Service
SIDESHIFT_QUOTE_TTL_SECS=60
SIDESHIFT_MAX_RETRIES=3

# Benchmark Service
BENCHMARK_CHECK_INTERVAL_SECS=10

# Agentic Trimming
TRIM_EVALUATION_INTERVAL_SECS=300
TRIM_MIN_CONFIDENCE=85
TRIM_DEFAULT_PERCENT=25.0
TRIM_MAX_PER_DAY=3

# P2P Exchange
P2P_OFFER_EXPIRATION_HOURS=24
P2P_PLATFORM_FEE_PERCENT=0.5
P2P_MATCH_PRICE_TOLERANCE_PERCENT=1.0

# Voice Commands
VOICE_RATE_LIMIT_PER_MINUTE=10
VOICE_CONFIRMATION_REQUIRED=true

# Receipts
RECEIPT_RETENTION_YEARS=7
RECEIPT_PREFERRED_BLOCKCHAIN=solana

# Wallet Management
MAX_TEMPORARY_WALLETS=10
WALLET_FREEZE_REQUIRES_2FA=true

# ============================================
# Logging Configuration
# ============================================
RUST_LOG=info,whale_tracker=debug
LOG_FORMAT=pretty

# ============================================
# Optional: Monitoring Configuration
# ============================================
# SENTRY_DSN=your_sentry_dsn_here
# DATADOG_API_KEY=your_datadog_api_key_here
# METRICS_ENABLED=false
# METRICS_PORT=9090

# ============================================
# Optional: Email Configuration
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM_EMAIL=noreply@example.com

# ============================================
# Development & Testing
# ============================================
ENVIRONMENT=development
# MOCK_EXTERNAL_APIS=false
# SKIP_MIGRATIONS=false
# SEED_DATABASE=false

# ============================================
# P2P Mesh Network Configuration
# ============================================
# Provider node fetch interval in seconds (default: 30)
MESH_PROVIDER_FETCH_INTERVAL_SECS=30

# Coordination window to avoid duplicate fetches in seconds (default: 5)
MESH_COORDINATION_WINDOW_SECS=5

# Initial TTL value for price update messages (default: 10)
MESH_MESSAGE_TTL=10

# Maximum entries in seen messages cache (default: 10000)
MESH_SEEN_MESSAGES_CACHE_SIZE=10000

# Expiration time for seen messages in seconds (default: 300 = 5 minutes)
MESH_SEEN_MESSAGES_EXPIRATION_SECS=300

# Maximum peer connections per node (default: 10)
MESH_MAX_PEER_CONNECTIONS=10

# Minimum peer connections to maintain (default: 3)
MESH_MIN_PEER_CONNECTIONS=3

# Price data staleness threshold in seconds (default: 3600 = 1 hour)
MESH_STALENESS_THRESHOLD_SECS=3600

# Provider offline indicator threshold in seconds (default: 600 = 10 minutes)
MESH_OFFLINE_INDICATOR_THRESHOLD_SECS=600

# Price discrepancy threshold as percentage (default: 5.0 = 5%)
MESH_PRICE_DISCREPANCY_THRESHOLD_PERCENT=5.0

